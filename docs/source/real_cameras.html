

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>perls2 with Real Cameras &mdash; perls2 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Controller Demos" href="demos.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> perls2
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="panda_setup.html">Franka Panda Setup</a></li>
</ul>
<p class="caption"><span class="caption-text">Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="environments.html">Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="worlds.html">World</a></li>
<li class="toctree-l1"><a class="reference internal" href="robot_interfaces.html">RobotInterfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="controller_eqns.html">Controllers</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../simple_reach.html">Simple Reach Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="load_objects.html">Examples: Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="switch_sim_real.html">Switching between Real and Sim Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="project_template.html">Project Template</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../env.html">Environment (Env)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../world.html">World</a></li>
<li class="toctree-l1"><a class="reference internal" href="../robot_interface.html">Robot Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controller.html">Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../object_interface.html">Object Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../camera_interface.html">Camera Interface</a></li>
</ul>
<p class="caption"><span class="caption-text">Real Robot Control</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="panda_setup.html">Franka Panda Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="panda_nuc_setup.html">Set up NUC (Control PC) for the Franka Panda</a></li>
<li class="toctree-l1"><a class="reference internal" href="panda_ws_setup.html">Set up workstation for Franka Panda</a></li>
<li class="toctree-l1"><a class="reference internal" href="panda_instructions.html">Using the Franka Panda</a></li>
<li class="toctree-l1"><a class="reference internal" href="redis.html">Redis Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="sawyer_instructions.html">Using the Rethink Sawyer Arm</a></li>
<li class="toctree-l1"><a class="reference internal" href="demos.html">Controller Demos</a></li>
</ul>
<p class="caption"><span class="caption-text">Real Cameras</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">perls2 with Real Cameras</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="#set-up">Set up</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#set-up-local-folder">Set up local folder</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#starting-realsense-cameras">Starting RealSense cameras:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#starting-any-ros-camera">Starting any ROS Camera:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-camera-interface-in-your-perls2-project">Create camera interface in your perls2 project:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#obtain-frames">Obtain Frames:</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">perls2</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>perls2 with Real Cameras</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/source/real_cameras.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="perls2-with-real-cameras">
<h1>perls2 with Real Cameras<a class="headerlink" href="#perls2-with-real-cameras" title="Permalink to this headline">¶</a></h1>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>perls2 provides interfaces to obtain rgb and depth images from Cameras.
Currently all supported cameras use ROS drivers. A separate process forwards
frames published to ROS to redis for the main perls2.Env to obtain. This allows perls2 to run in
a virtual environment separate from ROS.</p>
</div>
<div class="section" id="set-up">
<h2>Set up<a class="headerlink" href="#set-up" title="Permalink to this headline">¶</a></h2>
<p>ROS should be setup and installed on the workstation. The current setup is
with ros-kinetic, but it should be forward compatible.</p>
<ol>
<li><p>Install redis</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-get install redis-server
</pre></div>
</div>
</li>
<li><p>Install python-rospkg</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-get install python-rospkg
</pre></div>
</div>
</li>
<li><p>Install tmux (terminal-multiplexer) which is used to create multiple windows in the same terminal.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt install tmux
</pre></div>
</div>
</li>
<li><p>Create a python2.7 virtualenv for perls2. This allows perls2 to run proccess compatible with ros-kinetic. In order to use the python-rospkg we just installed, it should use the system-site-packages.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~
virtualenv -p python2.7 p27env
</pre></div>
</div>
</li>
<li><p>Source the virtualenv you just created and install perls2 using the p27requirements.txt</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span> ~/p27env/bin/activate
<span class="nb">cd</span> ~/perls2
pip install -r p27_requirements.txt
pip install -e .
</pre></div>
</div>
</li>
<li><p>Install necessary ros packages for your camera. See manufacturer for details.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/IntelRealSense/realsense-ros">Set up for realsense cameras</a></p></li>
<li><p>Set up for kinect2 cameras.</p></li>
</ul>
</li>
</ol>
<div class="section" id="set-up-local-folder">
<h3>Set up local folder<a class="headerlink" href="#set-up-local-folder" title="Permalink to this headline">¶</a></h3>
<p>A local folder is used to store install config specific to this machine. Setting it up once enables use of bash scripts with perls2 to start cameras automatically.</p>
<ol>
<li><p>Copy the local/perls2_local_ws folder to customize install for perls2.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/perls2
cp -r local/perls2_local_ws ~/
<span class="nb">cd</span> ~/perls2_local_ws
</pre></div>
</div>
</li>
<li><p>Open the <code class="docutils literal notranslate"><span class="pre">local_dirs.sh</span></code> file in a text editor and adjust the variables as necessary specific
to your install. Make sure to edit the <code class="docutils literal notranslate"><span class="pre">SOURCE_ROS_CMD</span></code> and <code class="docutils literal notranslate"><span class="pre">LAUNCH_RS_CAMERAS_CMD</span></code> for your workstation and camera setup.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1"># Command to source virtualenv environment with  python 3.6 perls2 installed</span>
<span class="nb">export</span> <span class="nv">SOURCE_ENV_CMD</span><span class="o">=</span><span class="s2">&quot;source ~/p2env/bin/activate&quot;</span>

<span class="c1"># Command to source virtualenv environment with python2.7 perls2 installed</span>
<span class="nb">export</span> <span class="nv">SOURCE_P27_CMD</span><span class="o">=</span><span class="s2">&quot;source ~/p27env/bin/activate&quot;</span>

<span class="c1"># ROS WS directory</span>
<span class="nb">export</span> <span class="nv">ROS_DIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/ros_ws&quot;</span>
<span class="c1"># Command to source ROS</span>
<span class="nb">export</span> <span class="nv">SOURCE_ROS_CMD</span><span class="o">=</span><span class="s2">&quot;source /opt/ros/kinetic/setup.sh&quot;</span>

<span class="c1"># ROS Launch command for realsense cameras</span>
<span class="nv">LAUNCH_RS_CAMERAS_CMD</span><span class="o">=</span><span class="s2">&quot;roslaunch </span><span class="si">${</span><span class="nv">ROS_DIR</span><span class="si">}</span><span class="s2">/src/realsense-ros/realsense2_camera/launch/rs_multiple_devices.launch&quot;</span>

<span class="c1"># Directory for perls2 repo</span>
<span class="nb">export</span> <span class="nv">PERLS2_DIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/perls2&quot;</span>
</pre></div>
</div>
</li>
<li><p>Edit the <code class="docutils literal notranslate"><span class="pre">ros_sensors.yaml</span></code> file in the local folder with the rostopics you want to subscribe to.
Note ‘name’ of the camera in the rostopic. You can see what rostopics are being published by launching the camera and using <code class="docutils literal notranslate"><span class="pre">rostopic</span> <span class="pre">list</span></code>. Currently only one rgb and depth stream per camera is supported.</p>
<p>Example: A Realsense DS435 publishes to the following rostopics:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">*</span> <span class="n">rgb</span> <span class="p">:</span> <span class="o">/</span><span class="n">ds435</span><span class="o">/</span><span class="n">color</span><span class="o">/</span><span class="n">image_raw</span>
 <span class="o">*</span> <span class="n">depth</span><span class="p">:</span> <span class="o">/</span><span class="n">ds435</span><span class="o">/</span><span class="n">depth</span><span class="o">/</span><span class="n">image_rect_raw</span>
</pre></div>
</div>
<p>Our ros_sensors.yaml file would look like this:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Config for ROS Cameras</span>
<span class="c1"># Redis server hosted locally on workstation</span>
<span class="nt">workstation_redis</span><span class="p">:</span> 
  <span class="nt">host</span><span class="p">:</span> <span class="s">&quot;127.0.0.1&quot;</span>
  <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">6379</span>

<span class="c1"># Config for Cameras that use ROS </span>
<span class="nt">rgb_topics</span><span class="p">:</span>
  <span class="p p-Indicator">[</span><span class="s">&#39;/ds435/color/image_raw&#39;</span><span class="p p-Indicator">]</span>

<span class="nt">depth_topics</span><span class="p">:</span>
  <span class="p p-Indicator">[</span><span class="s">&#39;/ds435/depth/image_rect_raw&#39;</span><span class="p p-Indicator">]</span>

<span class="nt">invert</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
<p>You can add additional cameras by appending them as a list, like so:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Config for ROS Cameras</span>

<span class="c1"># Redis server hosted locally on workstation</span>
<span class="nt">workstation_redis</span><span class="p">:</span> 
  <span class="nt">host</span><span class="p">:</span> <span class="s">&quot;127.0.0.1&quot;</span>
  <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">6379</span>

<span class="c1"># Config for Cameras that use ROS </span>
<span class="nt">rgb_topics</span><span class="p">:</span>
  <span class="p p-Indicator">[</span><span class="s">&#39;/sr300/color/image_raw&#39;</span><span class="p p-Indicator">,</span>
   <span class="s">&#39;/ds435/color/image_raw&#39;</span><span class="p p-Indicator">]</span>

<span class="nt">depth_topics</span><span class="p">:</span>
  <span class="p p-Indicator">[</span><span class="s">&#39;/ds435/depth/image_rect_raw&#39;</span><span class="p p-Indicator">,</span>
   <span class="s">&#39;/sr300/depth/image_rect_raw&#39;</span><span class="p p-Indicator">]</span>

<span class="nt">invert</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
</li>
<li><p>Test your real camera setup using the bash script.</p>
<ol>
<li><p>Open a terminal</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/perls2
./scripts/start_realsense_cameras.sh ~/perls2_local_ws
</pre></div>
</div>
</li>
<li><p>Open another terminal, and run the ros_camera_interface as a script, supplying the name of the camera you want to display as a positional arguments. The script will display 5 frames from
each image stream.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span> ~/p2env/bin/activate
<span class="nb">cd</span> ~/perls2
python perls2/sensors/ros_camera_interface.py ds435
</pre></div>
</div>
</li>
</ol>
<p>You can also supply multiple camera names.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span> ~/p2env/bin/activate
<span class="nb">cd</span> ~/perls2
python sensors/ros_camera_interface.py ds435 sr300
</pre></div>
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="section" id="starting-realsense-cameras">
<h3>Starting RealSense cameras:<a class="headerlink" href="#starting-realsense-cameras" title="Permalink to this headline">¶</a></h3>
<p>After setting up the local folder, it is easy to start the cameras using a bash script. Always start
the cameras before running your main perls2 project environment.</p>
<ol>
<li><p>Run the <code class="docutils literal notranslate"><span class="pre">start_realsense_cameras.sh</span></code> file and supply the perls2_local_ws directory as a positional argument.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/perls2
./scripts/start_realsense_cameras.sh ~/perls2_local_ws
</pre></div>
</div>
<p>This will open a tmux window with the following processes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="n">Top</span> <span class="n">Left</span><span class="p">)</span> <span class="n">roscore</span>
 <span class="mi">2</span><span class="p">)</span> <span class="p">(</span><span class="n">Bottom</span> <span class="n">Left</span><span class="p">)</span> <span class="n">redis</span><span class="o">-</span><span class="n">server</span>
 <span class="mi">3</span><span class="p">)</span> <span class="p">(</span><span class="n">Top</span> <span class="n">Right</span><span class="p">)</span> <span class="n">Camera</span> <span class="n">ROS</span> <span class="n">Nodes</span> <span class="kn">from</span> <span class="nn">launch</span> <span class="n">file</span>
 <span class="mi">4</span><span class="p">)</span> <span class="p">(</span><span class="n">Bottom</span> <span class="n">Right</span><span class="p">)</span> <span class="n">perls2</span> <span class="n">RosRedisPublisher</span>
</pre></div>
</div>
</li>
<li><p>You can now run your perls2.Env in a separate terminal.</p></li>
<li><p>To kill the script, in the tmux terminal run the tmux command using <code class="docutils literal notranslate"><span class="pre">[Ctrl+b+:]</span> <span class="pre">kill-session</span></code>.
If you close out of the terminal, the tmux session will continue to run. If this happens, use the kill script in new terminal:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/perls2
./scripts/kill_tmux_session.sh rs_cameras
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="starting-any-ros-camera">
<h3>Starting any ROS Camera:<a class="headerlink" href="#starting-any-ros-camera" title="Permalink to this headline">¶</a></h3>
<p>You can start any in the same manner given the appropriate roslaunch command.</p>
<ol>
<li><p>Follow manufacturer instructions to install rospackage for your camera.
Note the roslaunch command used to start the camera node. It’s usually in the form of:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>roslaunch camera_pkg camera.launch
roslaunch camera.launch
</pre></div>
</div>
</li>
<li><p>Run the <code class="docutils literal notranslate"><span class="pre">start_ros_camera.sh</span></code> script supplying the launch command as a string:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/perls2
./scripts/start_ros_camera.sh/ ~/perls2_local_ws <span class="se">\&quot;</span>roslaunch camera_pkg camera.launch<span class="se">\&quot;</span>
</pre></div>
</div>
</li>
<li><p>To kill the script, in the tmux terminal run the tmux command using <code class="docutils literal notranslate"><span class="pre">[Ctrl+b+:]</span> <span class="pre">kill-session</span></code>.
If you close out of the terminal, the tmux session will continue to run. If this happens, use the kill script in new terminal:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/perls2
./scripts/kill_tmux_session.sh ros_camera
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="create-camera-interface-in-your-perls2-project">
<h3>Create camera interface in your perls2 project:<a class="headerlink" href="#create-camera-interface-in-your-perls2-project" title="Permalink to this headline">¶</a></h3>
<p>To make an interface to a camera that uses ROS, pass the name of the camera in
the rostopic it publishes to. For example, if we have a RealSense DS435 camera
that publishes to the rostopic “/ds435/color/image_raw”, we create a camera
interface as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">perls2.sensors.ros_camera_interface</span> <span class="kn">import</span> <span class="n">ros_camera_interface</span>
<span class="n">camera_interface</span> <span class="o">=</span> <span class="n">RosCameraInterface</span><span class="p">(</span><span class="s1">&#39;ds435&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that if you have multiples of the same type of cameras, you can create
multiple camera_interfaces, as long as they are publishing to unique rostopics.
See setup for more information.</p>
<p>Multiple cameras:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">perls2.sensors.ros_camera_interface</span> <span class="kn">import</span> <span class="n">ros_camera_interface</span>

<span class="n">sr300_interface</span> <span class="o">=</span> <span class="n">RosCameraInterface</span><span class="p">(</span><span class="s1">&#39;sr300_1&#39;</span><span class="p">)</span>
<span class="n">sr300_2_interface</span> <span class="o">=</span> <span class="n">RosCameraInterface</span><span class="p">(</span><span class="s1">&#39;sr300_2&#39;</span><span class="p">)</span>
<span class="n">ds435_interface</span> <span class="o">=</span> <span class="n">RosCameraInterface</span><span class="p">(</span><span class="s1">&#39;ds435&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="obtain-frames">
<h3>Obtain Frames:<a class="headerlink" href="#obtain-frames" title="Permalink to this headline">¶</a></h3>
<p>You can obtain camera frames similar to simulated cameras using the <code class="docutils literal notranslate"><span class="pre">frames()</span></code> function.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">perls2.sensors.ros_camera_interface</span> <span class="kn">import</span> <span class="n">ros_camera_interface</span>

<span class="n">camera_interface</span> <span class="o">=</span> <span class="n">RosCameraInterface</span><span class="p">(</span><span class="s1">&#39;sr300&#39;</span><span class="p">)</span>

<span class="c1">#all frames</span>
<span class="n">frames</span> <span class="o">=</span> <span class="n">camera_interface</span><span class="o">.</span><span class="n">frames</span><span class="p">()</span>
<span class="n">rgb</span> <span class="o">=</span> <span class="n">frames</span><span class="p">[</span><span class="s1">&#39;rgb&#39;</span><span class="p">]</span>
<span class="n">depth</span> <span class="o">=</span> <span class="n">frames</span><span class="p">[</span><span class="s1">&#39;depth&#39;</span><span class="p">]</span>
<span class="n">tstamp</span> <span class="o">=</span> <span class="n">frames</span><span class="p">[</span><span class="s1">&#39;rgb_tstamp&#39;</span><span class="p">]</span>

<span class="c1"># Only obtain rgb frames</span>
<span class="n">frames_rgb</span> <span class="o">=</span> <span class="n">camera_interface</span><span class="o">.</span><span class="n">frames_rgb</span><span class="p">()</span>

<span class="c1">#only obtain depth frame</span>
<span class="n">frame_depth</span> <span class="o">=</span> <span class="n">camera_interface</span><span class="o">.</span><span class="n">frames_depth</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="demos.html" class="btn btn-neutral float-left" title="Controller Demos" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, StanfordVL

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>